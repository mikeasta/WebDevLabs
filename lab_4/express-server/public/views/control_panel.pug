doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        link(rel="stylesheet/less" type="text/css" href="../stylesheets/control_panel.less")
        script(src="https://cdn.jsdelivr.net/npm/less")
        script(src="https://kit.fontawesome.com/cb7794a450.js" crossorigin="anonymous")
        link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous")
        script(src="../scripts/jquery.js" type="module")
        title Social Media 
    body 

        - const access = value ? value.access: null
        - const users  = value ? value.users: []

        header(id="common_header")
            a(href="/" id="common_header_index_page_link") Главная
            a(href="" id="common_header_profile_link") Профиль
            a(href="" id="common_header_news_link") Новости
            a(href="" id="common_header_friends_link") Друзья
            a(href="/control_panel" id="common_header_control_panel_link") Панель управления пользователями
        
        main(id="control_panel_main")
            div(id="control_panel_content_wrapper")
                h2 Список пользователей
                table(class="table")
                    thead
                        tr 
                            th(scope="col") Имя
                            th(scope="col") Дата рождения
                            th(scope="col") Роль
                            th(scope="col") Статус
                            th(scope="col") Электронная почта
                            th(scope="col") Кнопки взаимодействия
                    tbody
                        each user in users
                            tr
                                th(class="table_user_name" scope="row")  
                                    a(href=`/profile/${user.id}` class="control_panel_username") #{user.name}
                                td(class="table_user_birth_date" scope="")  #{user.birth}
                                td(class="table_user_role" scope="")  #{user.role}
                                td(class="table_user_access_status" scope="")  #{user.status}
                                td(class="table_user_email" scope="")  #{user.email}
                                td(class="table_user_interaction_buttons" scope="")
                                    a(href=`/edit_profile/${user.id}`)
                                        button(type="button" class="btn btn-primary user_interaction_btn")
                                            i(class="fa-solid fa-pen")
                                    a(href=`/profile/${user.id}`)
                                        button(type="button" class="btn btn-primary user_interaction_btn")
                                            i(class="fa-solid fa-circle-info")
                                    button(type="button" class="btn btn btn-success user_interaction_btn confirm_btn" id=`confirmUser#${user.id}`)
                                        i(class="fa-sharp fa-solid fa-check")
                                    button(type="button" class="btn btn-danger user_interaction_btn ban_btn" id=`banUser#${user.id}`)
                                        i(class="fa-solid fa-ban")

        
        script(src="../scripts/client.js" type="module")
        script(src="../scripts/control_panel.js" type="module")
        script(src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous")
        script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous")
        script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous")