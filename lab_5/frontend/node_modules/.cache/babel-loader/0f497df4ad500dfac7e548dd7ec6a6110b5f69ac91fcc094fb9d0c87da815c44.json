{"ast":null,"code":"var _jsxFileName = \"/home/mikeasta/Programming/lr5_egor/lr5/frontend/src/components/info-chart/InfoChart.js\";\nimport React from \"react\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass InfoChart extends React.Component {\n  constructor(props) {\n    var _this$props$headers, _this$props$headers$f, _this$props$headers2, _this$props$headers2$;\n    super(props);\n    ChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n    const xAxisName = (_this$props$headers = this.props.headers) === null || _this$props$headers === void 0 ? void 0 : (_this$props$headers$f = _this$props$headers.find(header => header.name === this.props.xFieldName)) === null || _this$props$headers$f === void 0 ? void 0 : _this$props$headers$f.label;\n    const yAxisName = (_this$props$headers2 = this.props.headers) === null || _this$props$headers2 === void 0 ? void 0 : (_this$props$headers2$ = _this$props$headers2.find(header => header.name === this.props.yFieldName)) === null || _this$props$headers2$ === void 0 ? void 0 : _this$props$headers2$.label;\n    this.options = {\n      responsive: true,\n      plugins: {\n        legend: {\n          position: this.props.name ? 'top' : 'none'\n        },\n        title: {\n          display: true,\n          text: 'Stock quotes'\n        }\n      },\n      scales: {\n        xAxis: {\n          title: {\n            display: !!xAxisName,\n            text: xAxisName\n          }\n        },\n        yAxis: {\n          title: {\n            display: !!yAxisName,\n            text: yAxisName\n          }\n        }\n      }\n    };\n  }\n  render() {\n    var _this$props$items, _this$props$items2;\n    const labels = (_this$props$items = this.props.items) === null || _this$props$items === void 0 ? void 0 : _this$props$items.map(item => item[this.props.xFieldName]);\n    const dataset = (_this$props$items2 = this.props.items) === null || _this$props$items2 === void 0 ? void 0 : _this$props$items2.map(item => item[this.props.yFieldName]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        options: this.options,\n        data: {\n          labels,\n          datasets: [{\n            label: this.props.name,\n            data: dataset,\n            borderColor: 'rgb(53, 162, 235)',\n            backgroundColor: 'rgba(53, 162, 235, 0.5)'\n          }]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this);\n  }\n}\n;\nexport default InfoChart;","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","InfoChart","Component","constructor","props","register","xAxisName","headers","find","header","name","xFieldName","label","yAxisName","yFieldName","options","responsive","plugins","legend","position","title","display","text","scales","xAxis","yAxis","render","labels","items","map","item","dataset","datasets","data","borderColor","backgroundColor"],"sources":["/home/mikeasta/Programming/lr5_egor/lr5/frontend/src/components/info-chart/InfoChart.js"],"sourcesContent":["import React from \"react\";\nimport {\n\tChart as ChartJS,\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend\n} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\n\nclass InfoChart extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tChartJS.register(\n\t\t\tCategoryScale,\n\t\t\tLinearScale,\n\t\t\tPointElement,\n\t\t\tLineElement,\n\t\t\tTitle,\n\t\t\tTooltip,\n\t\t\tLegend\n\t\t);\n\n\t\tconst xAxisName = this.props.headers?.find(\n\t\t\theader => header.name === this.props.xFieldName\n\t\t)?.label;\n\t\tconst yAxisName = this.props.headers?.find(\n\t\t\theader => header.name === this.props.yFieldName\n\t\t)?.label;\n\n\t\tthis.options = {\n\t\t\tresponsive: true,\n\t\t\tplugins: {\n\t\t\t\tlegend: {\n\t\t\t\t\tposition: this.props.name ? 'top' : 'none',\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttext: 'Stock quotes',\n\t\t\t\t}\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\txAxis: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: !!xAxisName,\n\t\t\t\t\t\ttext: xAxisName\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tyAxis: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: !!yAxisName,\n\t\t\t\t\t\ttext: yAxisName\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\trender()\n\t{\n\t\tconst labels = this.props.items?.map(item => item[this.props.xFieldName]);\n\t\tconst dataset = this.props.items?.map(item => item[this.props.yFieldName]);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Line \n\t\t\t\t\toptions={this.options}\n\t\t\t\t\tdata={{\n\t\t\t\t\t\tlabels,\n\t\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\t\tlabel: this.props.name,\n\t\t\t\t\t\t\tdata: dataset,\n\t\t\t\t\t\t\tborderColor: 'rgb(53, 162, 235)',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(53, 162, 235, 0.5)',\n\t\t\t\t\t\t}]\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default InfoChart;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACCC,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MAAM,QACA,UAAU;AACjB,SAASC,IAAI,QAAQ,iBAAiB;AAAC;AAEvC,MAAMC,SAAS,SAASX,KAAK,CAACY,SAAS,CACvC;EACCC,WAAW,CAACC,KAAK,EACjB;IAAA;IACC,KAAK,CAACA,KAAK,CAAC;IAEZZ,OAAO,CAACa,QAAQ,CACfZ,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MAAM,CACN;IAED,MAAMO,SAAS,0BAAG,IAAI,CAACF,KAAK,CAACG,OAAO,iFAAlB,oBAAoBC,IAAI,CACzCC,MAAM,IAAIA,MAAM,CAACC,IAAI,KAAK,IAAI,CAACN,KAAK,CAACO,UAAU,CAC/C,0DAFiB,sBAEfC,KAAK;IACR,MAAMC,SAAS,2BAAG,IAAI,CAACT,KAAK,CAACG,OAAO,kFAAlB,qBAAoBC,IAAI,CACzCC,MAAM,IAAIA,MAAM,CAACC,IAAI,KAAK,IAAI,CAACN,KAAK,CAACU,UAAU,CAC/C,0DAFiB,sBAEfF,KAAK;IAER,IAAI,CAACG,OAAO,GAAG;MACdC,UAAU,EAAE,IAAI;MAChBC,OAAO,EAAE;QACRC,MAAM,EAAE;UACPC,QAAQ,EAAE,IAAI,CAACf,KAAK,CAACM,IAAI,GAAG,KAAK,GAAG;QACrC,CAAC;QACDU,KAAK,EAAE;UACNC,OAAO,EAAE,IAAI;UACbC,IAAI,EAAE;QACP;MACD,CAAC;MACDC,MAAM,EAAE;QACPC,KAAK,EAAE;UACNJ,KAAK,EAAE;YACNC,OAAO,EAAE,CAAC,CAACf,SAAS;YACpBgB,IAAI,EAAEhB;UACP;QACD,CAAC;QACDmB,KAAK,EAAE;UACNL,KAAK,EAAE;YACNC,OAAO,EAAE,CAAC,CAACR,SAAS;YACpBS,IAAI,EAAET;UACP;QACD;MACD;IACD,CAAC;EACF;EAEAa,MAAM,GACN;IAAA;IACC,MAAMC,MAAM,wBAAG,IAAI,CAACvB,KAAK,CAACwB,KAAK,sDAAhB,kBAAkBC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,IAAI,CAAC1B,KAAK,CAACO,UAAU,CAAC,CAAC;IACzE,MAAMoB,OAAO,yBAAG,IAAI,CAAC3B,KAAK,CAACwB,KAAK,uDAAhB,mBAAkBC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,IAAI,CAAC1B,KAAK,CAACU,UAAU,CAAC,CAAC;IAC1E,oBACC;MAAA,uBACC,QAAC,IAAI;QACJ,OAAO,EAAE,IAAI,CAACC,OAAQ;QACtB,IAAI,EAAE;UACLY,MAAM;UACNK,QAAQ,EAAE,CAAC;YACVpB,KAAK,EAAE,IAAI,CAACR,KAAK,CAACM,IAAI;YACtBuB,IAAI,EAAEF,OAAO;YACbG,WAAW,EAAE,mBAAmB;YAChCC,eAAe,EAAE;UAClB,CAAC;QACF;MAAE;QAAA;QAAA;QAAA;MAAA;IACD;MAAA;MAAA;MAAA;IAAA,QACG;EAER;AACD;AAAC;AAED,eAAelC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}