{"ast":null,"code":"var _jsxFileName = \"/home/mikeasta/Programming/WebDevLabs/lab_5/frontend/src/components/settings/Settings.js\";\nimport React from \"react\";\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { setStartDate, setUpdateRate, setOptions } from \"../../actions\";\nimport clientSocket from \"../../settings/socket\";\nimport ExchangeStatus from \"./ExchangeStatus\";\n\n/* TODO: stock names */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Settings extends React.Component {\n  constructor(props) {\n    var _this$props$settings, _this$props$settings2;\n    super(props);\n    if (!((_this$props$settings = this.props.settings) !== null && _this$props$settings !== void 0 && _this$props$settings.emulatedStocks.length) && !((_this$props$settings2 = this.props.settings) !== null && _this$props$settings2 !== void 0 && _this$props$settings2.updateRate)) clientSocket.emit(\"getSettings\");\n    clientSocket.on(\"getSettings\", data => this.props.optionsChanged(data));\n    this.state = {\n      showModal: false,\n      date: \"\",\n      quotes: []\n    };\n    this.toggleModal = this.toggleModal.bind(this);\n  }\n  componentDidMount() {\n    clientSocket.on(\"exchangeUpdate\", data => {\n      this.setState({\n        date: data.date,\n        quotes: data.quotes\n      });\n    });\n  }\n  toggleModal() {\n    this.setState({\n      showModal: !this.state.showModal\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438 \\u0431\\u0438\\u0440\\u0436\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-2\",\n          controlId: \"status-control\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0431\\u0438\\u0440\\u0436\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            readOnly: true,\n            value: this.props.settings.emulation ? \"Working\" : \"Not working\",\n            className: \"text-muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-2\",\n          controlId: \"start-date-control\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0442\\u043E\\u0440\\u0433\\u043E\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            value: this.props.settings.startDate,\n            onChange: this.props.dateChange,\n            readOnly: this.props.settings.emulation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-2\",\n          controlId: \"start-date-control\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0427\\u0430\\u0441\\u0442\\u043E\\u0442\\u0430 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: this.props.settings.updateRate,\n              onChange: this.props.rateChange,\n              readOnly: this.props.settings.emulation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              children: \"(\\u0432 \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\\u0430\\u0445)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ExchangeStatus, {\n        show: this.state.showModal,\n        hide: this.toggleModal,\n        date: this.state.date,\n        quotes: this.state.quotes,\n        stocks: this.props.settings.stocksInfo,\n        emulation: this.props.settings.emulation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this);\n  }\n}\n;\nconst mapStateToProps = (state, ownProps) => ({\n  ...ownProps,\n  settings: state.settings\n});\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  startExchange: (event, settings) => {\n    event.preventDefault();\n    clientSocket.emit(\"startExchange\", settings);\n  },\n  stopExchange: event => {\n    event.preventDefault();\n    clientSocket.emit(\"stopExchange\");\n  },\n  dateChange: event => {\n    dispatch(setStartDate(event.target.value));\n  },\n  rateChange: event => {\n    dispatch(setUpdateRate(event.target.value));\n  },\n  optionsChanged: settings => {\n    dispatch(setOptions(settings));\n  }\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);","map":{"version":3,"names":["React","Form","Button","InputGroup","connect","setStartDate","setUpdateRate","setOptions","clientSocket","ExchangeStatus","Settings","Component","constructor","props","settings","emulatedStocks","length","updateRate","emit","on","data","optionsChanged","state","showModal","date","quotes","toggleModal","bind","componentDidMount","setState","render","emulation","startDate","dateChange","rateChange","stocksInfo","mapStateToProps","ownProps","mapDispatchToProps","dispatch","startExchange","event","preventDefault","stopExchange","target","value"],"sources":["/home/mikeasta/Programming/WebDevLabs/lab_5/frontend/src/components/settings/Settings.js"],"sourcesContent":["import React from \"react\";\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { setStartDate, setUpdateRate, setOptions } from \"../../actions\";\nimport clientSocket from \"../../settings/socket\";\nimport ExchangeStatus from \"./ExchangeStatus\";\n\n/* TODO: stock names */\n\nclass Settings extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tif (\n\t\t\t!this.props.settings?.emulatedStocks.length && \n\t\t\t!this.props.settings?.updateRate\n\t\t)\n\t\t\tclientSocket.emit(\"getSettings\");\n\t\tclientSocket.on(\"getSettings\", data => this.props.optionsChanged(data));\n\n\t\tthis.state = { \n\t\t\tshowModal: false,\n\t\t\tdate: \"\",\n\t\t\tquotes: []\n\t\t};\n\n\t\tthis.toggleModal = this.toggleModal.bind(this);\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tclientSocket.on(\"exchangeUpdate\", data => {\n\t\t\tthis.setState({\n\t\t\t\tdate: data.date,\n\t\t\t\tquotes: data.quotes\n\t\t\t});\n\t\t});\n\t}\n\n\ttoggleModal()\n\t{\n\t\tthis.setState({showModal: !this.state.showModal});\n\t}\n\n\trender()\n\t{\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"block-header\">\n\t\t\t\t\t<h4>\n\t\t\t\t\t\tНастройки биржи\n\t\t\t\t\t</h4>\n\n\t\t\t\t</div>\n\t\t\t\t<Form className=\"mb-3\">\n\t\t\t\t\t<Form.Group \n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tcontrolId=\"status-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Label>Статус биржи</Form.Label>\n\t\t\t\t\t\t<Form.Control \n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tthis.props.settings.emulation ? \n\t\t\t\t\t\t\t\t\"Working\": \"Not working\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"text-muted\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group \n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tcontrolId=\"start-date-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Label>Дата начала торгов</Form.Label>\n\t\t\t\t\t\t<Form.Control \n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.props.settings.startDate}\n\t\t\t\t\t\t\tonChange={this.props.dateChange}\n\t\t\t\t\t\t\treadOnly={this.props.settings.emulation}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group \n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tcontrolId=\"start-date-control\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Form.Label>Частота обновления</Form.Label>\n\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t<Form.Control \n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={this.props.settings.updateRate}\n\t\t\t\t\t\t\t\tonChange={this.props.rateChange}\n\t\t\t\t\t\t\t\treadOnly={this.props.settings.emulation}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<InputGroup.Text>(в секундах)</InputGroup.Text>\n\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t\t<ExchangeStatus \n\t\t\t\t\tshow={this.state.showModal}\n\t\t\t\t\thide={this.toggleModal}\n\t\t\t\t\tdate={this.state.date}\n\t\t\t\t\tquotes={this.state.quotes}\n\t\t\t\t\tstocks={this.props.settings.stocksInfo}\n\t\t\t\t\temulation={this.props.settings.emulation}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nconst mapStateToProps = (state, ownProps) => ({ \n\t...ownProps,\n\tsettings: state.settings\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n\tstartExchange: (event, settings) => {\n\t\tevent.preventDefault();\n\t\tclientSocket.emit(\"startExchange\", settings);\n\t},\n\tstopExchange: event => {\n\t\tevent.preventDefault();\n\t\tclientSocket.emit(\"stopExchange\");\n\t},\n\tdateChange: event => {\n\t\tdispatch(setStartDate(event.target.value));\n\t},\n\trateChange: event => {\n\t\tdispatch(setUpdateRate(event.target.value));\n\t},\n\toptionsChanged: settings => {\n\t\tdispatch(setOptions(settings));\n\t}\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Settings);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}